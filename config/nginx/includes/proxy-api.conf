# /etc/nginx/includes/proxy-api.conf
# API-optimized proxy settings
# Use this for services with heavy API usage

# Include base proxy settings
include /etc/nginx/includes/proxy-base.conf;

# API-specific settings
proxy_buffering off;  # Don't buffer API responses
proxy_request_buffering on;  # Buffer requests for APIs

# Shorter timeouts for APIs
proxy_connect_timeout 30s;
proxy_send_timeout 60s;
proxy_read_timeout 60s;

# API-specific headers
proxy_set_header Accept-Encoding "";
proxy_set_header Authorization "";  # Will be set by auth if needed